<section class="mt-6 rounded-2xl p-6 border theme-card" data-animate style="--stagger:1.5">
  <div class="flex flex-wrap items-center justify-between gap-3">
    <h2 class="text-2xl font-semibold" data-i18n="recent.title"></h2>
    <a class="px-3 py-1 rounded-full border theme-button transition" href="/blog/" data-i18n="recent.all"></a>
  </div>

  {% if site.posts.size > 0 %}
  <div class="mt-4 grid gap-4 md:grid-cols-2 xl:grid-cols-3">
    {% for post in site.posts limit:3 %}
    <article class="p-5 rounded-2xl border theme-card transition hover:-translate-y-0.5">
      <h3 class="text-lg font-semibold">
        <a class="hover:underline" href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h3>
      <p class="theme-text-muted text-sm">{{ post.date | date: "%d.%m.%Y" }}</p>
      {% if post.excerpt %}
      <p class="theme-text-soft mt-2">{{ post.excerpt | strip_html | truncate: 140 }}</p>
      {% endif %}
      <a class="inline-block mt-3 px-3 py-1 rounded-lg border theme-button transition" href="{{ post.url | relative_url }}" data-i18n="recent.read"></a>
    </article>
    {% endfor %}
  </div>
  {% else %}
  <p class="mt-4 theme-text-muted" data-i18n="recent.empty"></p>
  {% endif %}
</section>
<script>
(function(){
  const RECENT_STRINGS={
    tr:{'recent.title':'Son yazılar','recent.all':'Tüm yazılar','recent.read':'Oku','recent.empty':'Henüz yazı yok. _posts/ klasörüne bir Markdown dosyası ekle.'},
    de:{'recent.title':'Neueste Beiträge','recent.all':'Alle Beiträge','recent.read':'Lesen','recent.empty':'Noch keine Beiträge. Lege eine Markdown-Datei in _posts/ ab.'},
    en:{'recent.title':'Latest posts','recent.all':'All posts','recent.read':'Read','recent.empty':'No posts yet. Add a Markdown file under _posts/.'},
  };

  function integrateRecentStrings(){
    if(typeof STRINGS==='undefined'){return;}
    Object.keys(RECENT_STRINGS).forEach(function(lang){
      if(!STRINGS[lang]){
        STRINGS[lang]={};
      }
      STRINGS[lang]=Object.assign({},STRINGS[lang],RECENT_STRINGS[lang]);
    });

    var storedLang='tr';
    try{
      storedLang=localStorage.getItem('lang')||document.documentElement.lang||'tr';
    }catch(e){
      storedLang=document.documentElement.lang||'tr';
    }

    if(typeof apply==='function'){
      try{
        apply(storedLang);
      }catch(e){}
    }else{
      document.querySelectorAll('[data-i18n]').forEach(function(node){
        var key=node.dataset.i18n;
        var lang=document.documentElement.lang||'tr';
        if(STRINGS[lang]&&STRINGS[lang][key]){
          node.textContent=STRINGS[lang][key];
        }
      });
    }
  }

  if(document.readyState==='loading'){
    window.addEventListener('DOMContentLoaded',integrateRecentStrings,{once:true});
  }else{
    integrateRecentStrings();
  }
})();
</script>
